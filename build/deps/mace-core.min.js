/*!
 * Mace 0.0.1
 * copyright: Takenori Nakagawa
 * license: MIT
 */
(function(){"use strict";var e;e=function(){function e(t,n,i){var r,a,s,o;this.editor=t,this.preview=n,this.ace=ace.edit(this.editor),this.ace.getSession().setMode("ace/mode/markdown"),this.ace.setTheme("ace/theme/monokai"),marked.setOptions({renderer:new marked.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),this.ace.on("change",function(e){return function(){var t;return t=e.ace.getValue(),marked(t,function(e,t){return null!=e&&console.error(e),n.innerHTML=t})}}(this)),Object.defineProperty(e.prototype,"value",{get:function(){return this.ace.getValue()}}),(r=null!=i?i.button:void 0)&&(null!=(a=r.indent)&&a.addEventListener("click",this.indent.bind(this,1)),null!=(s=r.outdent)&&s.addEventListener("click",this.outdent.bind(this,1)),null!=(o=r.heading)&&o.addEventListener("click",this.heading.bind(this,1)))}return e.prototype.indent=function(e){var t,n;for(null==e&&(e=1),t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)this.ace.indent();return this.ace.focus()},e.prototype.outdent=function(e){var t,n;for(null==e&&(e=1),t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)this.ace.blockOutdent();return this.ace.focus()},e.prototype.heading=function(e){var t,n;for(null==e&&(e=1),this.ace.navigateLineStart(),t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)this.ace.insert("#");return this.ace.focus()},e.prototype.clear=function(e){return null==e&&(e=!1),e?function(){var e;for(e=[];""!==this.value;)e.push(this.ace.removeLines());return e}.call(this).length:void 0},e}(),this.Mace=e}).call(this);