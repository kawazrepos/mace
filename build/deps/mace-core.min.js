/*!
 * Mace 0.0.1
 * copyright: Takenori Nakagawa
 * license: MIT
 */
(function(){"use strict";var e;e=function(){function e(t,n,r){var i,o;this.editor=t,this.preview=null!=n?n:null,null==r&&(r={}),o=this,this.ace=ace.edit(this.editor),this.ace.getSession().setMode("ace/mode/markdown"),this.ace.setTheme("ace/theme/monokai"),marked.setOptions({renderer:new marked.Renderer,gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),null!==this.preview&&(this._render(),this.ace.on("change",function(e){return function(){return e._render()}}(this))),Object.defineProperty(this,"value",{get:function(){return this.ace.getValue()}}),Object.defineProperty(this,"font_size",{get:function(){return this.ace.getFontSize()},set:function(e){return this.ace.setFontSize(e)}}),(i=r.button)&&Object.keys(e.prototype).forEach(function(e){var t;if("_"!==e.charAt(0))return null!=(t=i[e])?t.addEventListener("click",function(){var t;return o[e].apply(o,null!=(t=this.dataset.maceArgs)?t.split(","):void 0)}):void 0})}return e.prototype._render=function(){var e;return e=this.ace.getValue(),marked(e,function(e){return function(t,n){return null!=t&&console.error(t),e.preview.innerHTML=n}}(this))},e.prototype.indent=function(e){var t,n;for(null==e&&(e=1),t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)this.ace.indent();return this.ace.focus()},e.prototype.outdent=function(e){var t,n;for(null==e&&(e=1),t=n=0;e>=0?e>n:n>e;t=e>=0?++n:--n)this.ace.blockOutdent();return this.ace.focus()},e.prototype.heading=function(e){var t,n,r;for(null==e&&(e=1),n=this.ace.getCursorPosition(),this.ace.navigateLineStart(),t=r=0;e>=0?e>r:r>e;t=e>=0?++r:--r)this.ace.insert("#");return this.ace.moveCursorTo(n.row,n.column+e),this.ace.focus()},e.prototype.link=function(e,t){var n;return null==e&&(e="./"),n=this.ace.getCopyText().split("\n").join(""),t=t||n||"link",this.ace.insert("["+t+"]("+e+")"),this.ace.focus()},e.prototype.clear=function(e){return null==e&&(e=!1),e?this.ace.setValue(""):this.ace.removeLines()},e}(),this.Mace=e}).call(this);